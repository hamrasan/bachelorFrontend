{"ast":null,"code":"var _jsxFileName = \"/Users/sandra/bakalarka/SmartGarden/smartgardenGitHub/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\n// import \"./App.css\";\nimport TheNavigation from \"./components/TheNavigation\";\nimport TheNotification from \"./views/TheNotification\";\nimport RegisterForm from \"./components/RegisterForm\";\nimport LoginForm from \"./components/LoginForm\";\nimport TheGarden from \"./views/TheGarden\";\nimport MyValving from \"./views/MyValving\";\nimport PlantNewForm from \"./components/PlantNewForm\";\nimport ValvingSchedule from \"./components/ValvingSchedule\";\nimport TheHome from \"./views/TheHome\";\nimport MyHistory from \"./views/MyHistory\";\nimport PlantDetail from \"./views/PlantDetail\";\nimport MyProfile from \"./views/MyProfile\";\nimport Context from \"./appContext\";\nimport AuthRoute from \"./AuthRoute\";\nimport { useState, useLayoutEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ErrorComponent from \"./components/ErrorComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isAuth, setIsAuth] = useState(false);\n  const [oldUrl, setOldUrl] = useState(null);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(false);\n\n  const login = () => {\n    console.log(\"login name\");\n    console.log(user);\n    console.log(process.env.REACT_APP_API_URL);\n    console.log(Cookies.get(\"JSESSIONID\"));\n    axios({\n      method: \"get\",\n      url: process.env.REACT_APP_API_URL + \"/user\",\n      withCredentials: true,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(res => {\n      console.log(\"res.data\");\n      console.log(res);\n      setUser(res.data);\n      setIsAuth(true);\n    }).catch(error => {\n      logoutFrontEnd();\n      console.log(\"after logout\");\n      console.error(error);\n    }); // setName(user.firstName);\n  };\n\n  useLayoutEffect(() => {\n    if (Cookies.get(\"JSESSIONID\") && isAuth == false) {\n      login();\n    }\n  }, isAuth);\n\n  const logout = () => {\n    axios({\n      method: \"post\",\n      withCredentials: true,\n      url: process.env.REACT_APP_API_URL + \"/logout\",\n      data: {},\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(res);\n      logoutFrontEnd();\n    }).catch(error => {\n      console.log(\"after logout\");\n      console.error(error);\n    });\n  };\n\n  const logoutFrontEnd = () => {\n    Cookies.remove(\"JSESSIONID\");\n    setIsAuth(false);\n    setUser(null);\n  };\n\n  const contextValue = {\n    isAuth: isAuth,\n    login: login,\n    logout: logout,\n    oldUrl: oldUrl,\n    setOldUrl: setOldUrl,\n    user: user\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(TheNavigation, {\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorComponent, {\n        onReset: () => setError(true),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/login\",\n              guest: true,\n              children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/register\",\n              guest: true,\n              children: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/logout\",\n              children: () => {\n                logout();\n                return /*#__PURE__*/_jsxDEV(Redirect, {\n                  to: \"/login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 26\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/valving\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(MyValving, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/valving/schedule/:id\",\n              children: /*#__PURE__*/_jsxDEV(ValvingSchedule, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/history/:sensor/:name\",\n              children: /*#__PURE__*/_jsxDEV(MyHistory, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/garden/detail/:id\",\n              children: /*#__PURE__*/_jsxDEV(PlantDetail, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/garden\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(TheGarden, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/garden/new/:name\",\n              children: /*#__PURE__*/_jsxDEV(PlantNewForm, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/profile\",\n              children: /*#__PURE__*/_jsxDEV(MyProfile, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/notifications\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(TheNotification, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/\",\n              exact: true,\n              children: /*#__PURE__*/_jsxDEV(TheHome, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"sNESNPRtPhjOqXWM0swuxUPRTI8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/sandra/bakalarka/SmartGarden/smartgardenGitHub/frontend/src/App.js"],"names":["TheNavigation","TheNotification","RegisterForm","LoginForm","TheGarden","MyValving","PlantNewForm","ValvingSchedule","TheHome","MyHistory","PlantDetail","MyProfile","Context","AuthRoute","useState","useLayoutEffect","Cookies","Redirect","Switch","axios","ErrorComponent","App","isAuth","setIsAuth","oldUrl","setOldUrl","user","setUser","error","setError","login","console","log","process","env","REACT_APP_API_URL","get","method","url","withCredentials","headers","then","res","data","catch","logoutFrontEnd","logout","remove","contextValue"],"mappings":"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","sourcesContent":["// import \"./App.css\";\nimport TheNavigation from \"./components/TheNavigation\";\nimport TheNotification from \"./views/TheNotification\";\nimport RegisterForm from \"./components/RegisterForm\";\nimport LoginForm from \"./components/LoginForm\";\nimport TheGarden from \"./views/TheGarden\";\nimport MyValving from \"./views/MyValving\";\nimport PlantNewForm from \"./components/PlantNewForm\";\nimport ValvingSchedule from \"./components/ValvingSchedule\";\nimport TheHome from \"./views/TheHome\";\nimport MyHistory from \"./views/MyHistory\";\nimport PlantDetail from \"./views/PlantDetail\";\nimport MyProfile from \"./views/MyProfile\";\nimport Context from \"./appContext\";\nimport AuthRoute from \"./AuthRoute\";\nimport { useState, useLayoutEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ErrorComponent from \"./components/ErrorComponent\";\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false);\n  const [oldUrl, setOldUrl] = useState(null);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(false);\n\n  const login = () => {\n    console.log(\"login name\");\n    console.log(user);\n    console.log(process.env.REACT_APP_API_URL);\n    console.log(Cookies.get(\"JSESSIONID\"));\n    axios({\n      method: \"get\",\n      url: process.env.REACT_APP_API_URL + \"/user\",\n      withCredentials: true,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    })\n      .then((res) => {\n        console.log(\"res.data\");\n        console.log(res);\n        setUser(res.data);\n        setIsAuth(true);\n      })\n      .catch((error) => {\n        logoutFrontEnd();\n        console.log(\"after logout\");\n        console.error(error);\n      });\n    // setName(user.firstName);\n  };\n\n  useLayoutEffect(() => {\n    if (Cookies.get(\"JSESSIONID\") && isAuth == false) {\n      login();\n    }\n  }, isAuth);\n\n  const logout = () => {\n    axios({\n      method: \"post\",\n      withCredentials: true,\n      url: process.env.REACT_APP_API_URL + \"/logout\",\n      data: {},\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        console.log(res);\n        logoutFrontEnd();\n      })\n      .catch((error) => {\n        console.log(\"after logout\");\n        console.error(error);\n      });\n  };\n\n  const logoutFrontEnd = () => {\n    Cookies.remove(\"JSESSIONID\");\n    setIsAuth(false);\n    setUser(null);\n  };\n\n  const contextValue = {\n    isAuth: isAuth,\n    login: login,\n    logout: logout,\n    oldUrl: oldUrl,\n    setOldUrl: setOldUrl,\n    user: user,\n  };\n\n  return (\n    <Context.Provider value={contextValue}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <TheNavigation user={user} />\n        </header>\n\n        <ErrorComponent onReset={() => setError(true)}>\n          <div>\n            <Switch>\n              <AuthRoute path=\"/login\" guest={true}>\n                <LoginForm />\n              </AuthRoute>\n              <AuthRoute path=\"/register\" guest={true}>\n                <RegisterForm />\n              </AuthRoute>\n              <AuthRoute path=\"/logout\">\n                {() => {\n                  logout();\n                  return <Redirect to=\"/login\" />;\n                }}\n              </AuthRoute>\n              <AuthRoute path=\"/valving\" exact>\n                <MyValving />\n              </AuthRoute>\n              <AuthRoute path=\"/valving/schedule/:id\">\n                <ValvingSchedule />\n              </AuthRoute>\n              <AuthRoute path=\"/history/:sensor/:name\">\n                <MyHistory />\n              </AuthRoute>\n              <AuthRoute path=\"/garden/detail/:id\">\n                <PlantDetail />\n              </AuthRoute>\n              <AuthRoute path=\"/garden\" exact>\n                <TheGarden />\n              </AuthRoute>\n              <AuthRoute path=\"/garden/new/:name\">\n                <PlantNewForm user={user} />\n              </AuthRoute>\n              <AuthRoute path=\"/profile\">\n                <MyProfile />\n              </AuthRoute>\n              <AuthRoute path=\"/notifications\" exact>\n                <TheNotification />\n              </AuthRoute>\n              <AuthRoute path=\"/\" exact>\n                <TheHome />\n              </AuthRoute>\n            </Switch>\n          </div>\n        </ErrorComponent>\n      </div>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}